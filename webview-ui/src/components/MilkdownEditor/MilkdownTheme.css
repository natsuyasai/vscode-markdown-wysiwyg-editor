/* Light theme */
[data-theme="light"] .milkdown {
  --crepe-color-background: #ffffff;
  --crepe-color-on-background: #000000;
  --crepe-color-surface: #f7f7f7;
  --crepe-color-surface-low: #ededed;
  --crepe-color-on-surface: #1c1c1c;
  --crepe-color-on-surface-variant: #4d4d4d;
  --crepe-color-outline: #a8a8a8;
  --crepe-color-primary: #0066cc;
  --crepe-color-secondary: #cfcfcf;
  --crepe-color-on-secondary: #000000;
  --crepe-color-inverse: #f0f0f0;
  --crepe-color-on-inverse: #1a1a1a;
  --crepe-color-inline-code: #c41a16;
  --crepe-color-error: #ba1a1a;
  --crepe-color-hover: #e0e0e0;
  --crepe-color-selected: #cce5ff;
  --crepe-color-inline-area: #e8e8e8;

  --crepe-shadow-1:
    0px 1px 3px 1px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.3);
  --crepe-shadow-2:
    0px 2px 6px 2px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.3);
}

/* Light theme - CodeMirror active line gutter */
[data-theme="light"] .milkdown .cm-activeLineGutter {
  background-color: #e8e8e8;
}

/* Dark theme */
[data-theme="dark"] .milkdown {
  --crepe-color-background: #1a1a1a;
  --crepe-color-on-background: #e6e6e6;
  --crepe-color-surface: #121212;
  --crepe-color-surface-low: #1c1c1c;
  --crepe-color-on-surface: #d1d1d1;
  --crepe-color-on-surface-variant: #a9a9a9;
  --crepe-color-outline: #757575;
  --crepe-color-primary: #6bb3ff;
  --crepe-color-secondary: #4d4d4d;
  --crepe-color-on-secondary: #d6d6d6;
  --crepe-color-inverse: #e5e5e5;
  --crepe-color-on-inverse: #2a2a2a;
  --crepe-color-inline-code: #f48771;
  --crepe-color-error: #ff6666;
  --crepe-color-hover: #232323;
  --crepe-color-selected: #264f78;
  --crepe-color-inline-area: #3a3a3a;

  --crepe-shadow-1:
    0px 1px 2px 0px rgba(255, 255, 255, 0.3),
    0px 1px 3px 1px rgba(255, 255, 255, 0.15);
  --crepe-shadow-2:
    0px 1px 2px 0px rgba(255, 255, 255, 0.3),
    0px 2px 6px 2px rgba(255, 255, 255, 0.15);
}

/* Dark theme - CodeMirror active line gutter */
[data-theme="dark"] .milkdown .cm-activeLineGutter {
  background-color: #2a2a2a;
}

/* Override VSCode default blockquote styles */
.milkdown .ProseMirror blockquote {
  background: transparent;
  border-color: transparent;
}

/* Force word break for headings with long English text */
.milkdown h1,
.milkdown h2,
.milkdown h3,
.milkdown h4,
.milkdown h5,
.milkdown h6 {
  word-break: break-all;
}

/* ========================================
   CodeMirror Syntax Highlighting Themes
   ======================================== */

/* Light theme - CodeMirror syntax highlighting */
[data-theme="light"] .milkdown .cm-editor {
  background-color: #f7f7f7;
}

[data-theme="light"] .milkdown .cm-content {
  caret-color: #000000;
}

[data-theme="light"] .milkdown .cm-cursor {
  border-left-color: #000000;
}

[data-theme="light"] .milkdown .cm-selectionBackground {
  background-color: #add6ff !important;
}

[data-theme="light"] .milkdown .cm-activeLine {
  background-color: #e8e8e8;
}

[data-theme="light"] .milkdown .cm-gutters {
  background-color: #f7f7f7;
  color: #6e7781;
  border-right: 1px solid #e1e4e8;
}

[data-theme="light"] .milkdown .cm-lineNumbers .cm-gutterElement {
  color: #6e7781;
}

/* Light theme syntax colors */
[data-theme="light"] .milkdown .cm-line {
  color: #24292e;
}

[data-theme="light"] .milkdown .ͼ1 .cm-line {
  color: #24292e;
}

[data-theme="light"] .milkdown .ͼb {
  color: #d73a49; /* keyword */
}

[data-theme="light"] .milkdown .ͼc {
  color: #005cc5; /* number */
}

[data-theme="light"] .milkdown .ͼd {
  color: #032f62; /* string */
}

[data-theme="light"] .milkdown .ͼe {
  color: #6a737d; /* comment */
}

[data-theme="light"] .milkdown .ͼf {
  color: #6f42c1; /* variableName */
}

[data-theme="light"] .milkdown .ͼg {
  color: #e36209; /* typeName */
}

[data-theme="light"] .milkdown .ͼi {
  color: #22863a; /* definition */
}

[data-theme="light"] .milkdown .ͼj {
  color: #d73a49; /* operator */
}

[data-theme="light"] .milkdown .ͼl {
  color: #6f42c1; /* function */
}

[data-theme="light"] .milkdown .ͼm {
  color: #005cc5; /* propertyName */
}

[data-theme="light"] .milkdown .ͼn {
  color: #22863a; /* tagName */
}

[data-theme="light"] .milkdown .ͼo {
  color: #6f42c1; /* attributeName */
}

[data-theme="light"] .milkdown .ͼp {
  color: #032f62; /* attributeValue */
}

/* Light theme - CodeMirror scrollbar */
[data-theme="light"] .milkdown .cm-scroller::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="light"] .milkdown .cm-scroller::-webkit-scrollbar-track {
  background-color: #f0f0f0;
}

[data-theme="light"] .milkdown .cm-scroller::-webkit-scrollbar-thumb {
  background-color: #c1c1c1;
  border-radius: 5px;
  border: 2px solid #f0f0f0;
}

[data-theme="light"] .milkdown .cm-scroller::-webkit-scrollbar-thumb:hover {
  background-color: #a8a8a8;
}

[data-theme="light"] .milkdown .cm-scroller::-webkit-scrollbar-corner {
  background-color: #f0f0f0;
}

/* Light theme - code block container scrollbar */
[data-theme="light"] .milkdown .milkdown-code-block::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="light"] .milkdown .milkdown-code-block::-webkit-scrollbar-track {
  background-color: #f0f0f0;
}

[data-theme="light"] .milkdown .milkdown-code-block::-webkit-scrollbar-thumb {
  background-color: #c1c1c1;
  border-radius: 5px;
  border: 2px solid #f0f0f0;
}

[data-theme="light"] .milkdown .milkdown-code-block::-webkit-scrollbar-thumb:hover {
  background-color: #a8a8a8;
}

[data-theme="light"] .milkdown .milkdown-code-block::-webkit-scrollbar-corner {
  background-color: #f0f0f0;
}

/* Dark theme - CodeMirror syntax highlighting */
[data-theme="dark"] .milkdown .cm-editor {
  background-color: #121212;
}

[data-theme="dark"] .milkdown .cm-content {
  caret-color: #ffffff;
}

[data-theme="dark"] .milkdown .cm-cursor {
  border-left-color: #ffffff;
}

[data-theme="dark"] .milkdown .cm-selectionBackground {
  background-color: #264f78 !important;
}

[data-theme="dark"] .milkdown .cm-activeLine {
  background-color: #2a2a2a;
}

[data-theme="dark"] .milkdown .cm-gutters {
  background-color: #121212;
  color: #6e7681;
  border-right: 1px solid #3c3c3c;
}

[data-theme="dark"] .milkdown .cm-lineNumbers .cm-gutterElement {
  color: #6e7681;
}

/* Dark theme syntax colors */
[data-theme="dark"] .milkdown .cm-line {
  color: #d4d4d4;
}

[data-theme="dark"] .milkdown .ͼ1 .cm-line {
  color: #d4d4d4;
}

[data-theme="dark"] .milkdown .ͼb {
  color: #569cd6; /* keyword */
}

[data-theme="dark"] .milkdown .ͼc {
  color: #b5cea8; /* number */
}

[data-theme="dark"] .milkdown .ͼd {
  color: #ce9178; /* string */
}

[data-theme="dark"] .milkdown .ͼe {
  color: #6a9955; /* comment */
}

[data-theme="dark"] .milkdown .ͼf {
  color: #9cdcfe; /* variableName */
}

[data-theme="dark"] .milkdown .ͼg {
  color: #4ec9b0; /* typeName */
}

[data-theme="dark"] .milkdown .ͼi {
  color: #dcdcaa; /* definition */
}

[data-theme="dark"] .milkdown .ͼj {
  color: #d4d4d4; /* operator */
}

[data-theme="dark"] .milkdown .ͼl {
  color: #dcdcaa; /* function */
}

[data-theme="dark"] .milkdown .ͼm {
  color: #9cdcfe; /* propertyName */
}

[data-theme="dark"] .milkdown .ͼn {
  color: #569cd6; /* tagName */
}

[data-theme="dark"] .milkdown .ͼo {
  color: #9cdcfe; /* attributeName */
}

[data-theme="dark"] .milkdown .ͼp {
  color: #ce9178; /* attributeValue */
}

/* Dark theme - CodeMirror scrollbar */
[data-theme="dark"] .milkdown .cm-scroller::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="dark"] .milkdown .cm-scroller::-webkit-scrollbar-track {
  background-color: #1e1e1e;
}

[data-theme="dark"] .milkdown .cm-scroller::-webkit-scrollbar-thumb {
  background-color: #5a5a5a;
  border-radius: 5px;
  border: 2px solid #1e1e1e;
}

[data-theme="dark"] .milkdown .cm-scroller::-webkit-scrollbar-thumb:hover {
  background-color: #787878;
}

[data-theme="dark"] .milkdown .cm-scroller::-webkit-scrollbar-corner {
  background-color: #1e1e1e;
}

/* Dark theme - code block container scrollbar */
[data-theme="dark"] .milkdown .milkdown-code-block::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="dark"] .milkdown .milkdown-code-block::-webkit-scrollbar-track {
  background-color: #1e1e1e;
}

[data-theme="dark"] .milkdown .milkdown-code-block::-webkit-scrollbar-thumb {
  background-color: #5a5a5a;
  border-radius: 5px;
  border: 2px solid #1e1e1e;
}

[data-theme="dark"] .milkdown .milkdown-code-block::-webkit-scrollbar-thumb:hover {
  background-color: #787878;
}

[data-theme="dark"] .milkdown .milkdown-code-block::-webkit-scrollbar-corner {
  background-color: #1e1e1e;
}
